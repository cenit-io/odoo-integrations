<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <menuitem id="menu_cenit_collections" name="Collections"
            parent="cenit_base.menu_cenit_integration" sequence="0" />


        <record id="view_cenit_collection_tree" model="ir.ui.view">
            <field name="name">view.cenit.collection.tree</field>
            <field name="model">cenit.collection</field>
            <field name="arch" type="xml">
                <tree string="Collections" create="false">
                    <field name="name" />
                    <field name="description" />
                    <button string="Install/Reinstall" type="object"
                            name="install_collection" class="oe_highlight"/>
                </tree>
            </field>
        </record>

        <record id="view_cenit_collection_form" model="ir.ui.view">
            <field name="name">view.cenit.collection.form</field>
            <field name="model">cenit.collection</field>
            <field name="arch" type="xml">
                <form string="Collections" create="false">
                    <header>
                        <button string="Install/Reinstall" type="object"
                                name="install_collection" class="oe_highlight"/>
                    </header>
                    <group>
                        <field name="name" readonly="1"/>
                        <field name="description" readonly="1"/>
                    </group>
                    <notebook>
                        <page string="Pull Parameters">
                            <field name="parameters">
                                <tree string="Parameters" editable="bottom" create="false">
                                    <field name="name" readonly="1" string="Label"/>
                                    <field name="value" />
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="action_cenit_collection" model="ir.actions.act_window">
            <field name="name">Collections</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">cenit.collection</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_cenit_collection" name="Collections"
            parent="menu_cenit_collections" sequence="0"
            action="action_cenit_collection" />


        <record id="action_cenit_collection_list_update" model="ir.actions.server">
            <field name="name">Install Collections</field>
            <field name="model_id" ref="model_cenit_collection" />
            <field name="state">code</field>
            <field name="code">
                action = model._update_collection_list()
            </field>
        </record>

        <menuitem id="view_cenit_collection_list_update" name="Update Collections List"
                  parent="menu_cenit_collections" sequence="1"
                  action="action_cenit_collection_list_update" />

    </data>
</openerp>


